\section{Model and Main Results}
\newcommand{\Expect}{E}
\newcommand{\Prob}{P}
\newcommand{\F}{F}
\newcommand{\Fhat}{{\hat{\F}}}
\newcommand{\qhat}{{\hat{q}}}
\newcommand{\Sx}{{\mathcal{S}_X}}
\newcommand{\Sr}{{\mathcal{S}_R}}
\newcommand{\Sn}{S_n}
\newcommand{\urange}{u_{\mbox{\footnotesize range}}}
%\newcommand{\umin}{u_{\mbox{\footnotesize min}}}
\newcommand{\qhatOp}{{\bold{\qhat}}}


%\newcommand{\EUFq}{\mbox{EU($q;\F$)}}
%\newcommand{\EUFhqh}{\mbox{EU($\qhat;\Fhat$)}}
%\newcommand{\EUFqh}{\mbox{EU($\qhat;\F$)}}
%\newcommand{\CEFq}{\mbox{CE($q;\F$)}}
%\newcommand{\CEFhqh}{\mbox{CE($\qhat;\Fhat$)}}
%\newcommand{\CEFqh}{\mbox{CE($\qhat;\F$)}}





We consider a classical financial portfolio selection problem involving a risky asset with
random return rate $R$ and a risk-free asset with return rate of $0\%$ for simplicity. We
also suppose that the investor's risk aversion can be characterized using expected utility
theory using some strictly increasing concave utility function and has access to side
information regarding the returns. This information might be the result of processing the
most recent financial or economic news, etc. We let this information be described as a
vector of $p$ random features $[X_1,X_2,\dots,X_p]$. In this context, if the the
distribution $\F$ of the pair $(X,R)$ of side information and return is known, a linear
investment policy that exploits the side information optimally for this investor can be
obtained by solving the following optimization problem:
\begin{equation}
\maximize_{q\in\Re^p}\;\;\;\Expect_\F[u(R\cdot q^TX)]\;,\label{EUF}
\end{equation}
where it is assumed that short-selling is permitted. 

In practice however, the exact distribution describing the relation between $X$ and $R$ is
not available at the time of designing the investment policy and one might instead need to
exploit a set of samples $\Sn:=\{(X_i,R_i)\}_{i=1}^n$ drawn independently and identically
from $\F$. Unfortunately, when the $n$ is relatively small compared to $p$, it is well
known that problem \eqref{EUF} where we replace $\F$ with the empirical distribution
$\Fhat$ observed in the sample can suffer from severe overfitting and produce investment
policies that perform badly out of sample. This is for instance illustrated in the
following example.

\begin{ex}
  Consider for instance a case where $n=p$ and each feature $X_i$ is independantly and
  identically drawn from a Gaussian distribution. Given that it is well known that the
  probability that the random matrix $\Xi := [X_1\;X_2\;\dots\;X_n]$ be singular is null,
  then one can easily establish that problem \eqref{EUF} with $\Fhat$ is
  unbounded. Indeed, one can verify that $r_i \bar{q}^T x_i = 1$ for all $i=1,\dots,n$
  when $\bar{q}$ is set to ${\Xi^{-1}}^T [1/r_1\;1/r_2\;\dots\;1/r_n]^T$. Hence, one can
  achieve an arbitrarily large empirical expected utility by investing according to
  $\alpha\bar{q}$ for $\alpha>0$.
\end{ex}

To prevent issues associated to overfitting, one might instead seek the optimal solution
of the following regularized empirical expected utility maximization problem :
\begin{equation}
\maximize_{q\in\Re^p}\;\;\;\Expect_\Fhat[u(R\cdot q^TX)]+\lambda\|q\|^2\;.\label{EUFhatReg}
\end{equation}
Note that when it exists, we will refer to the optimal solution of this problem as $\qhat$.

The question remains of understanding what guarantees does one have regarding out of
sample performance of the portfolio investment policy obtained from such a regularized
problem. In particular, since utility functions are expressed in units without any
physical meaning for the investor, any guarantees derived using learning theory should be
reinterpreted in terms of a guarantee on the certainty equivalent\footnote{The fact that
  $c$ is the certainty equivalent of a random return $R$ implies that the investors is
  indifferent between being exposed to the risk of $R$ or getting involved in a risk free
  investment that has a return rate of $c$.} (in percent of return) of the risky
investment produced by $\qhat^T X$. In other words, we will be interested in bounding how
different the in-sample certainty equivalent performance of $\qhat$ might be compared to
the out-of-sample certainty equivalent performance and how different \Erick{describe in
  words the second bound}.


\input{oos_performance}
\input{true_optimal}
\input{big_data}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "big_data_portfolio_optimization"
%%% End:
